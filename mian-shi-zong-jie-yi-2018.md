这是某大厂的一个面试系列，遗憾的是并没有闯关成功，终面可能会脱离你的简历，大部分面试可能着重于你的简历介绍，本题目整理不保证你会遇到相同的问题：根据岗位和面试官本身情况，问题可能差别很大，会根据基础问题的回答逐渐深入，希望对复习有指导意义。

Over-the-phone

* **dp是什么，sp呢，有什么区别**

1.[Android中dp、sp、px的区别](https://www.cnblogs.com/xmu-chenming/p/5790621.html)

2.[Android中dp,px,sp概念梳理以及如何做到屏幕适配](http://blog.csdn.net/jiangwei0910410003/article/details/40509571)

总结：使用px做单位会出现不同分辨率的手机上大小不一致的情况，同样是5‘大的屏幕，比如相同的30px，宽度720p的手机上会看着比宽度1080P的手机上更宽，因为占比更大。引入dp这样一种独立的单位，系统会根据手机自己的density对dp做一定的变换，，可以做到同样dp单位下的数值在不同分辨率手机上显示大小是一致的，这也是一种手机屏幕适配的方法。Android中定义的标准是：

```java
    /**
     * Standard quantized DPI for medium-density screens.
     */
    public static final int DENSITY_MEDIUM = 160;
```

获取当前系统dp和px的转换可以通过系统方法得到当前的density（是对标准DPI的比例值）进行计算。

其中， dp转换px的方法中加上0.5是为了实现四舍五入，因为float转为int时会直接舍弃小数部分，加0.5是为了实现Math.round\(\)的效果，比如1.1 转换成int是 1，而1.9转换成int 也是1， 所有的数加了0.5后就可以实现四舍五入了：

> 1.1 + 0.5 = 1.6 -&gt;1；1.9 + 0.5 = 2.4 -&gt; 2

基本的转换代码：[Android原生系统API自带dp、px、sp单位转换](http://www.cnblogs.com/touko/p/6478851.html)

sp跟dp类似，只不过是专门针对字体的单位，可以跟随系统字体大小设置变化，这个有好有坏，如果你应用中布局不会受到字体大小的影响并希望app中的字体随着系统设置变化而变化，就用sp，否则可以用dp，试了下大厂的app都没有随着系统设置的字号变大而改变，个人感觉这个应该变成项目的编码规范，哪些字体需要明确出来。

再扩展一下，自定义View中经常使用的几种有关的方法：参考【自定义View】章节之【自定义View中的属性自定义】

* **自定义View，ViewGroup注意那些回调？**

参考【自定义View】

* 界面卡顿的原因以及解决方法

* android中的存储类型

* service用过么，基本调用方法

* Handler机制

* LinearLayout、FrameLayout、RelativeLayout性能对比，为什么

* Activity的生命周期，finish调用后其他生命周期还会走么？

* FW层熟悉么，源码看过么

* GC回收机制熟悉么，分代算法知道么

* Java的类类加载原理

* 内存泄漏如何排查，MAT分析方法以及原理，各种泄漏的原因是什么比如Handler为什么会泄漏

* gradle熟悉么，自动打包知道么
* 介绍下先的app架构和通信
* 自己负责过哪些模块，跟同事相比自己的优势是什么
* 遇到过什么印象深刻的问题，怎么解决的

Face-to-Face

问题顺序不严格分先后。

First：

1. 最近都做了哪些工作？

遇到了什么印象深刻的问题。

A:会顺着你介绍的项目问下具体实现。

1. 推送消息有富文本么？

2. 热修复了解么，用的什么？

3. apk包大小有限制么？怎么减少包大小？

4. 工作中有没有用过或者写过什么工具？脚本，插件等等

比如：多人协同开发可能对一些相同资源都各自放了一份，有没有方法自动检测这种重复之类的

1. 写过native的底层代码么

2. view的绘制熟悉么，介绍下

3. gc相关的算法

4. anr是因为什么产生的，怎么排查

5. 界面上的话，有什么优化措施么？比如列表展示之类的，平时遇到过内存问题吗，怎么优化的？

6. 平时用过哪些设计模式？

Sec：这是电面的那个面试官

1. 介绍下最近一年主要做了什么工作

2. 会对简历上突出的技能进行详情的询问：

比如：音频合成的具体步骤，以及遇到的一些问题和细节处理。

会根据面试发散一些问题，问到，seek方法播放到末尾后重新播放会有一些卡顿的不流畅问题，怎么避免，从交互设计或者技术角度。（个人表示没怎么关注这种）。

1. 项目团队多少人，怎么分配工作

2. 线程之间怎么通信的？

5.app的架构是怎么样的，并且为什么这样，有什么优缺点？

6.算法熟悉么？给了一个二叉排序树，出了一个给定节点找到它的下一个元素（指的是大小顺序的下一个）的算法题。

1. 为什么年底找工作，自己的优势是什么

last：hr+技术

技术问题不再局限于简历，可能根据简历和回答情况渐进并扩散。

感觉各个技术面试官之前并没有沟通，可能会问到类似的问题

* 介绍下自己主要负责的工作
* Activity的生命周期有哪些，知道onRestart么，介绍下
* savedInstanceState知道么，干什么用的，什么时候有值，什么时候为空，平时是怎么用的
* View绘制熟悉么，介绍下，能说下是实现原理么？
* 平时用过什么开发工具，分析工具？
* ANR是怎么回事？怎么查？Service会引起ANR么？
* Activity的启动模式有哪些？栈里是A-B-C，先想直接到A，BC都清理掉，有几种方法可以做到？这几种方法产生的结果是有几个A的实例？
* 有什么工具可以看到Activity栈信息么？多个栈话，有方法分别得到各个栈的Activity列表么
* 都熟悉哪些命令？知道怎么用命令启动一个Activity么?
* SharedPrefrences的apply和commit有什么区别
* java里带$的函数见过么，是什么意思
* MD5是加密方法么，Base64呢
* 有博客和github，主要是写的什么？有哪些关注
* android 8.0 有哪些新特性
* 差不多就这些吧。。。

最后每个面试官都会让你问他问题。

另一个大厂，比较有深度：

1. Canvas的底层机制，绘制框架，硬件加速是什么原理，canvas lock的缓冲区是怎么回事

2. surfaceview， suface，surfacetexure等相关的，以及底层原理

3. android文件存储，各版本存储位置的权限控制的演进，外部存储，内部存储

4. 上层业务activity和fragment的遇到什么坑？？页面展示上的一些坑和优化经验



