* **弱引用与GC @20180120**

被自己绕进去的一个问题，看GC回收时说发生GC时，所有的弱引用都要被回收。GC其实分Minor GC和Major GC，两种情况下弱引用都会被回收的。

我打开一个定义了弱引用当前Activity的静态UIHandler的Activity页面，然后用Android的Memory Monitor去监测的时候点击了垃圾回收，发现debug状态下this指针中的这个UIHandler对象中的弱引用并没有被回收，顿时慌张了，怎么可能啊。过会才反应过来自己SB了，当前Activity还在运行着，肯定不能回收啊，也就是虽然是被弱引用引用，但是本身在GCRoots里是被强引用着的，只有当前只有弱引用的时候才会在GC的时候被回收，所以关闭Activity后如果有内存泄漏的风险，这种方法也会在系统GC的时候将对象回收掉，避免一直泄漏。



